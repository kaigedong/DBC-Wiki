<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.33">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/dbc.icon.png"><title>安装DBC算力节点 | DBC-Wiki</title><meta name="description" content="欢迎来到 DBC-Wiki">
    <link rel="modulepreload" href="/DBC-Wiki/assets/app.554cb4e4.js"><link rel="modulepreload" href="/DBC-Wiki/assets/install-dbc-compute-node.html.e7923d52.js"><link rel="modulepreload" href="/DBC-Wiki/assets/plugin-vue_export-helper.21dcd24c.js"><link rel="modulepreload" href="/DBC-Wiki/assets/install-dbc-compute-node.html.3698d54b.js">
    <link rel="stylesheet" href="/DBC-Wiki/assets/style.ec9c96fd.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/DBC-Wiki/" class=""><!----><span class="site-name">DBC-Wiki</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="了解DBC"><span class="title">了解DBC</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="了解DBC"><span class="title">了解DBC</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/DBC-Wiki/dbc-introduction/dbc-applications.html" class="" aria-label="DBC 的应用领域"><!--[--><!--]--> DBC 的应用领域 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/dbc-introduction" class="" aria-label="DBC介绍"><!--[--><!--]--> DBC介绍 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-ecology.html" class="" aria-label="DBC 生态"><!--[--><!--]--> DBC 生态 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-gpu-rent.html" class="" aria-label="租用 GPU"><!--[--><!--]--> 租用 GPU <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-profit.html" class="" aria-label="DBC 的获取方法"><!--[--><!--]--> DBC 的获取方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-trade.html" class="" aria-label="交易 DBC"><!--[--><!--]--> 交易 DBC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-community.html" class="" aria-label="DBC 社群"><!--[--><!--]--> DBC 社群 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/dbc-democracy/" class="" aria-label="社区治理"><!--[--><!--]--> 社区治理 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council.html" class="" aria-label="关于推进 DBC 理事会成员选举及提案的说明"><!--[--><!--]--> 关于推进 DBC 理事会成员选举及提案的说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/join-council.html" class="" aria-label="DBC 理事会参选流程"><!--[--><!--]--> DBC 理事会参选流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-nft.html" class="" aria-label="为迎接主网上线，深脑链（DBC）铸造 NFT 纪念币免费赠予社区"><!--[--><!--]--> 为迎接主网上线，深脑链（DBC）铸造 NFT 纪念币免费赠予社区 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/apply-treasury.html" class="" aria-label="DBC Treasury 资金申请流程"><!--[--><!--]--> DBC Treasury 资金申请流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/staking-voting.html" class="" aria-label="DBC 创建账号、质押、超级节点选举投票教程"><!--[--><!--]--> DBC 创建账号、质押、超级节点选举投票教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="DBC资讯"><span class="title">DBC资讯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="DBC资讯"><span class="title">DBC资讯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC 进展</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2020.html" class="" aria-label="2020 年双周报"><!--[--><!--]--> 2020 年双周报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2021-01-01.html" class="" aria-label="深脑链 2020 年末週报"><!--[--><!--]--> 深脑链 2020 年末週报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2021.html" class="" aria-label="2021 年双周报"><!--[--><!--]--> 2021 年双周报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2022-01-01.html" class="" aria-label="深脑链 2021 年末週报"><!--[--><!--]--> 深脑链 2021 年末週报 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC AMA</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/8bit-ama.html" class="" aria-label="巴比特 AMA"><!--[--><!--]--> 巴比特 AMA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/galaxy-ama.html" class="" aria-label="DBC 主网上线暨银河竞赛 AMA 100%"><!--[--><!--]--> DBC 主网上线暨银河竞赛 AMA 100% <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/council-ama.html" class="" aria-label="深脑链理事会启动暨链上治理 AMA"><!--[--><!--]--> 深脑链理事会启动暨链上治理 AMA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/dbc-ama-collection.html" class="" aria-label="DBC AMA 问答集合"><!--[--><!--]--> DBC AMA 问答集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/dbc-hot-link.html" class="" aria-label="DBC 常用链接"><!--[--><!--]--> DBC 常用链接 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC 媒体报道</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-36kr-report.html" class="" aria-label="一文读懂深脑链 DBC：无限扩容的分布式高性能算力网络"><!--[--><!--]--> 一文读懂深脑链 DBC：无限扩容的分布式高性能算力网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-apnews-report.html" class="" aria-label="美联社"><!--[--><!--]--> 美联社 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-asiaone-report.html" class="" aria-label="亚洲第一站"><!--[--><!--]--> 亚洲第一站 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-businessinsider-report.html" class="" aria-label="商业内参"><!--[--><!--]--> 商业内参 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-coindeals-report.html" class="" aria-label="CoinDeals"><!--[--><!--]--> CoinDeals <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-dailyherald-report.html" class="" aria-label="Business News and Information"><!--[--><!--]--> Business News and Information <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-marketscreener.html" class="" aria-label="财经透视"><!--[--><!--]--> 财经透视 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-post-gazette.html" class="" aria-label="newsfilecorp"><!--[--><!--]--> newsfilecorp <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-theblockbeats-report.html" class="" aria-label="高性能计算赛道的深脑链，是 Web3.0 时代的刚需吗？"><!--[--><!--]--> 高性能计算赛道的深脑链，是 Web3.0 时代的刚需吗？ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-uk-tech-daily.html" class="" aria-label="United Kindom Tech Daily"><!--[--><!--]--> United Kindom Tech Daily <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-yahoo-report2.html" class="" aria-label="雅虎财经新加坡站"><!--[--><!--]--> 雅虎财经新加坡站 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-yahoo-report.html" class="" aria-label="雅虎"><!--[--><!--]--> 雅虎 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="链上操作说明"><span class="title">链上操作说明</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="链上操作说明"><span class="title">链上操作说明</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>参与 DBC 深脑链说明</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-params.html" class="" aria-label="参与 DBC 深脑链"><!--[--><!--]--> 参与 DBC 深脑链 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/generate-new-account.html" class="" aria-label="生成新账户"><!--[--><!--]--> 生成新账户 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/join-dbc-network.html" class="" aria-label="成为 DBC 验证节点"><!--[--><!--]--> 成为 DBC 验证节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/staking-dbc-and-voting.html" class="" aria-label="成为 DBC 提名人"><!--[--><!--]--> 成为 DBC 提名人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/common-questions.html" class="" aria-label="质押/解绑常见问题"><!--[--><!--]--> 质押/解绑常见问题 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>链上算力平台</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/dbc-chain-logic.html" class="" aria-label="DBC 链上模块说明"><!--[--><!--]--> DBC 链上模块说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-reward-model.html" class="" aria-label="机器奖励模型"><!--[--><!--]--> 机器奖励模型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-slash-model.html" class="" aria-label="机器惩罚机制"><!--[--><!--]--> 机器惩罚机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/bonding-machine.html" class="" aria-label="机器上链步骤"><!--[--><!--]--> 机器上链步骤 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/become-onchain-committee.html" class="" aria-label="DBC 链上委员会"><!--[--><!--]--> DBC 链上委员会 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-verification.html" class="" aria-label="委员会处理机器上链请求"><!--[--><!--]--> 委员会处理机器上链请求 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/rent-machine.html" class="" aria-label="链上机器租用"><!--[--><!--]--> 链上机器租用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/maintain-machine.html" class="" aria-label="委员会处理租用人的报告"><!--[--><!--]--> 委员会处理租用人的报告 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/onchain-errors.html" class="" aria-label="链上错误说明"><!--[--><!--]--> 链上错误说明 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>链上API</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc-readme.html" class="" aria-label="DBC-Blockchain 主网 RPC 说明"><!--[--><!--]--> DBC-Blockchain 主网 RPC 说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc.html" class="" aria-label="DBC-Blockchain 主网 RPC"><!--[--><!--]--> DBC-Blockchain 主网 RPC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-storage.html" class="" aria-label="链上存储"><!--[--><!--]--> 链上存储 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="安装&amp;升级DBC节点"><span class="title">安装&amp;升级DBC节点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="安装&amp;升级DBC节点"><span class="title">安装&amp;升级DBC节点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/" class="router-link-active" aria-label="安装和升级DBC节点"><!--[--><!--]--> 安装和升级DBC节点 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active router-link-active" aria-label="安装DBC算力节点"><!--[--><!--]--> 安装DBC算力节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="" aria-label="升级DBC算力节点"><!--[--><!--]--> 升级DBC算力节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-update-dbc-client.html" class="" aria-label="安装和升级DBC客户端"><!--[--><!--]--> 安装和升级DBC客户端 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/" class="" aria-label="DBC客户端-HTTP请求"><!--[--><!--]--> DBC客户端-HTTP请求 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/install-tool.html" class="" aria-label="准备工作"><!--[--><!--]--> 准备工作 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-request-format.html" class="" aria-label="Http请求格式说明"><!--[--><!--]--> Http请求格式说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-api.html" class="" aria-label="HTTP客户端请求API"><!--[--><!--]--> HTTP客户端请求API <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>创建windows虚拟机使用omniverse</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/create-win-machine-omniverse/create-win-machine-omniverse.html" class="" aria-label="创建windows虚拟机应用omniverse"><!--[--><!--]--> 创建windows虚拟机应用omniverse <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/DBC-Wiki/en/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/DeepBrainChain/DBC-Wiki" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" placeholder="Search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="了解DBC"><span class="title">了解DBC</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="了解DBC"><span class="title">了解DBC</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/DBC-Wiki/dbc-introduction/dbc-applications.html" class="" aria-label="DBC 的应用领域"><!--[--><!--]--> DBC 的应用领域 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/dbc-introduction" class="" aria-label="DBC介绍"><!--[--><!--]--> DBC介绍 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-ecology.html" class="" aria-label="DBC 生态"><!--[--><!--]--> DBC 生态 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-gpu-rent.html" class="" aria-label="租用 GPU"><!--[--><!--]--> 租用 GPU <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-profit.html" class="" aria-label="DBC 的获取方法"><!--[--><!--]--> DBC 的获取方法 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-trade.html" class="" aria-label="交易 DBC"><!--[--><!--]--> 交易 DBC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-introduction/dbc-community.html" class="" aria-label="DBC 社群"><!--[--><!--]--> DBC 社群 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/dbc-democracy/" class="" aria-label="社区治理"><!--[--><!--]--> 社区治理 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-council.html" class="" aria-label="关于推进 DBC 理事会成员选举及提案的说明"><!--[--><!--]--> 关于推进 DBC 理事会成员选举及提案的说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/join-council.html" class="" aria-label="DBC 理事会参选流程"><!--[--><!--]--> DBC 理事会参选流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/dbc-nft.html" class="" aria-label="为迎接主网上线，深脑链（DBC）铸造 NFT 纪念币免费赠予社区"><!--[--><!--]--> 为迎接主网上线，深脑链（DBC）铸造 NFT 纪念币免费赠予社区 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/apply-treasury.html" class="" aria-label="DBC Treasury 资金申请流程"><!--[--><!--]--> DBC Treasury 资金申请流程 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-democracy/staking-voting.html" class="" aria-label="DBC 创建账号、质押、超级节点选举投票教程"><!--[--><!--]--> DBC 创建账号、质押、超级节点选举投票教程 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="DBC资讯"><span class="title">DBC资讯</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="DBC资讯"><span class="title">DBC资讯</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC 进展</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2020.html" class="" aria-label="2020 年双周报"><!--[--><!--]--> 2020 年双周报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2021-01-01.html" class="" aria-label="深脑链 2020 年末週报"><!--[--><!--]--> 深脑链 2020 年末週报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2021.html" class="" aria-label="2021 年双周报"><!--[--><!--]--> 2021 年双周报 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-progress/2022-01-01.html" class="" aria-label="深脑链 2021 年末週报"><!--[--><!--]--> 深脑链 2021 年末週报 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC AMA</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/8bit-ama.html" class="" aria-label="巴比特 AMA"><!--[--><!--]--> 巴比特 AMA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/galaxy-ama.html" class="" aria-label="DBC 主网上线暨银河竞赛 AMA 100%"><!--[--><!--]--> DBC 主网上线暨银河竞赛 AMA 100% <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/council-ama.html" class="" aria-label="深脑链理事会启动暨链上治理 AMA"><!--[--><!--]--> 深脑链理事会启动暨链上治理 AMA <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/dbc-ama-collection.html" class="" aria-label="DBC AMA 问答集合"><!--[--><!--]--> DBC AMA 问答集合 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-ama/dbc-hot-link.html" class="" aria-label="DBC 常用链接"><!--[--><!--]--> DBC 常用链接 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>DBC 媒体报道</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-36kr-report.html" class="" aria-label="一文读懂深脑链 DBC：无限扩容的分布式高性能算力网络"><!--[--><!--]--> 一文读懂深脑链 DBC：无限扩容的分布式高性能算力网络 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-apnews-report.html" class="" aria-label="美联社"><!--[--><!--]--> 美联社 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-asiaone-report.html" class="" aria-label="亚洲第一站"><!--[--><!--]--> 亚洲第一站 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-businessinsider-report.html" class="" aria-label="商业内参"><!--[--><!--]--> 商业内参 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-coindeals-report.html" class="" aria-label="CoinDeals"><!--[--><!--]--> CoinDeals <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-dailyherald-report.html" class="" aria-label="Business News and Information"><!--[--><!--]--> Business News and Information <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-marketscreener.html" class="" aria-label="财经透视"><!--[--><!--]--> 财经透视 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-post-gazette.html" class="" aria-label="newsfilecorp"><!--[--><!--]--> newsfilecorp <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-theblockbeats-report.html" class="" aria-label="高性能计算赛道的深脑链，是 Web3.0 时代的刚需吗？"><!--[--><!--]--> 高性能计算赛道的深脑链，是 Web3.0 时代的刚需吗？ <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-uk-tech-daily.html" class="" aria-label="United Kindom Tech Daily"><!--[--><!--]--> United Kindom Tech Daily <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-yahoo-report2.html" class="" aria-label="雅虎财经新加坡站"><!--[--><!--]--> 雅虎财经新加坡站 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/dbc-information/dbc-report/dbc-yahoo-report.html" class="" aria-label="雅虎"><!--[--><!--]--> 雅虎 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="链上操作说明"><span class="title">链上操作说明</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="链上操作说明"><span class="title">链上操作说明</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>参与 DBC 深脑链说明</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/dbc-chain-params.html" class="" aria-label="参与 DBC 深脑链"><!--[--><!--]--> 参与 DBC 深脑链 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/generate-new-account.html" class="" aria-label="生成新账户"><!--[--><!--]--> 生成新账户 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/join-dbc-network.html" class="" aria-label="成为 DBC 验证节点"><!--[--><!--]--> 成为 DBC 验证节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/staking-dbc-and-voting.html" class="" aria-label="成为 DBC 提名人"><!--[--><!--]--> 成为 DBC 提名人 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/staking-model/common-questions.html" class="" aria-label="质押/解绑常见问题"><!--[--><!--]--> 质押/解绑常见问题 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>链上算力平台</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/dbc-chain-logic.html" class="" aria-label="DBC 链上模块说明"><!--[--><!--]--> DBC 链上模块说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-reward-model.html" class="" aria-label="机器奖励模型"><!--[--><!--]--> 机器奖励模型 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-slash-model.html" class="" aria-label="机器惩罚机制"><!--[--><!--]--> 机器惩罚机制 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/bonding-machine.html" class="" aria-label="机器上链步骤"><!--[--><!--]--> 机器上链步骤 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/become-onchain-committee.html" class="" aria-label="DBC 链上委员会"><!--[--><!--]--> DBC 链上委员会 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/machine-verification.html" class="" aria-label="委员会处理机器上链请求"><!--[--><!--]--> 委员会处理机器上链请求 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/rent-machine.html" class="" aria-label="链上机器租用"><!--[--><!--]--> 链上机器租用 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/maintain-machine.html" class="" aria-label="委员会处理租用人的报告"><!--[--><!--]--> 委员会处理租用人的报告 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-guide/onchain-errors.html" class="" aria-label="链上错误说明"><!--[--><!--]--> 链上错误说明 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>链上API</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc-readme.html" class="" aria-label="DBC-Blockchain 主网 RPC 说明"><!--[--><!--]--> DBC-Blockchain 主网 RPC 说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-rpc.html" class="" aria-label="DBC-Blockchain 主网 RPC"><!--[--><!--]--> DBC-Blockchain 主网 RPC <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/onchain-api/dbc-storage.html" class="" aria-label="链上存储"><!--[--><!--]--> 链上存储 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="安装&amp;升级DBC节点"><span class="title">安装&amp;升级DBC节点</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="安装&amp;升级DBC节点"><span class="title">安装&amp;升级DBC节点</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/" class="router-link-active" aria-label="安装和升级DBC节点"><!--[--><!--]--> 安装和升级DBC节点 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active router-link-active" aria-label="安装DBC算力节点"><!--[--><!--]--> 安装DBC算力节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="" aria-label="升级DBC算力节点"><!--[--><!--]--> 升级DBC算力节点 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-update-dbc-client.html" class="" aria-label="安装和升级DBC客户端"><!--[--><!--]--> 安装和升级DBC客户端 <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/" class="" aria-label="DBC客户端-HTTP请求"><!--[--><!--]--> DBC客户端-HTTP请求 <!--[--><!--]--></a></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/install-tool.html" class="" aria-label="准备工作"><!--[--><!--]--> 准备工作 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-request-format.html" class="" aria-label="Http请求格式说明"><!--[--><!--]--> Http请求格式说明 <!--[--><!--]--></a></li><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-api.html" class="" aria-label="HTTP客户端请求API"><!--[--><!--]--> HTTP客户端请求API <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><li class="navbar-dropdown-item"><!--[--><h4 class="navbar-dropdown-subtitle"><span>创建windows虚拟机使用omniverse</span></h4><ul class="navbar-dropdown-subitem-wrapper"><!--[--><li class="navbar-dropdown-subitem"><a href="/DBC-Wiki/install-update-dbc-node/create-win-machine-omniverse/create-win-machine-omniverse.html" class="" aria-label="创建windows虚拟机应用omniverse"><!--[--><!--]--> 创建windows虚拟机应用omniverse <!--[--><!--]--></a></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Select language"><span class="title">选择语言</span><span class="right arrow"></span></button><!--[--><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active router-link-active" aria-label="简体中文"><!--[--><!--]--> 简体中文 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/DBC-Wiki/en/" class="" aria-label="English"><!--[--><!--]--> English <!--[--><!--]--></a></li><!--]--></ul><!--]--></div></div><div class="navbar-item"><a class="external-link" href="https://github.com/DeepBrainChain/DBC-Wiki" rel="noopener noreferrer" target="_blank" aria-label="GitHub"><!--[--><!--]--> GitHub <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p class="sidebar-item sidebar-heading active">安装&amp;升级DBC节点 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/" class="router-link-active sidebar-item active" aria-label="安装和升级DBC节点"><!--[--><!--]--> 安装和升级DBC节点 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html" class="router-link-active router-link-exact-active router-link-active sidebar-item active" aria-label="安装DBC算力节点"><!--[--><!--]--> 安装DBC算力节点 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#一-安装前准备-基于已配置好固定公网ip地址-部署kvm安装环境" class="router-link-active router-link-exact-active sidebar-item" aria-label="(一) 安装前准备(基于已配置好固定公网ip地址），部署KVM安装环境"><!--[--><!--]--> (一) 安装前准备(基于已配置好固定公网ip地址），部署KVM安装环境 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#二-创建和挂载xfs文件系统" class="router-link-active router-link-exact-active sidebar-item" aria-label="(二) 创建和挂载XFS文件系统"><!--[--><!--]--> (二) 创建和挂载XFS文件系统 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#三-判断机器是否支持虚拟化" class="router-link-active router-link-exact-active sidebar-item" aria-label="(三) 判断机器是否支持虚拟化"><!--[--><!--]--> (三) 判断机器是否支持虚拟化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#四-启用系统分组" class="router-link-active router-link-exact-active sidebar-item" aria-label="(四) 启用系统分组"><!--[--><!--]--> (四) 启用系统分组 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#五-隔离gpu资源" class="router-link-active router-link-exact-active sidebar-item" aria-label="(五) 隔离GPU资源"><!--[--><!--]--> (五) 隔离GPU资源 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#六-如果驱动查询为kernel-driver-in-use-vfio-pci-无需操作以下内容-未成功绑定请继续执行" class="router-link-active router-link-exact-active sidebar-item" aria-label="(六) 如果驱动查询为Kernel driver in use: vfio-pci，无需操作以下内容，未成功绑定请继续执行"><!--[--><!--]--> (六) 如果驱动查询为Kernel driver in use: vfio-pci，无需操作以下内容，未成功绑定请继续执行 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#七-确认机器显卡被vfio-pci占用后-启动libvirtd服务并设置开机自启-这一步配置非常重要如果没有正确配置将无法正确接收请求-会直接影响机器在链状态-影响出租-造成损失" class="router-link-active router-link-exact-active sidebar-item" aria-label="(七) 确认机器显卡被vfio-pci占用后，启动libvirtd服务并设置开机自启(这一步配置非常重要如果没有正确配置将无法正确接收请求，会直接影响机器在链状态，影响出租，造成损失）"><!--[--><!--]--> (七) 确认机器显卡被vfio-pci占用后，启动libvirtd服务并设置开机自启(这一步配置非常重要如果没有正确配置将无法正确接收请求，会直接影响机器在链状态，影响出租，造成损失） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#八-创建dbc用户" class="router-link-active router-link-exact-active sidebar-item" aria-label="(八) 创建dbc用户"><!--[--><!--]--> (八) 创建dbc用户 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#九-安装dbc功能节点程序" class="router-link-active router-link-exact-active sidebar-item" aria-label="(九) 安装DBC功能节点程序"><!--[--><!--]--> (九) 安装DBC功能节点程序 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十-下载镜像模板-请放置于-data目录下-dbc启动虚拟机会去-data目录搜寻" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十) 下载镜像模板（请放置于/data目录下，dbc启动虚拟机会去/data目录搜寻）"><!--[--><!--]--> (十) 下载镜像模板（请放置于/data目录下，dbc启动虚拟机会去/data目录搜寻） <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十一-备份机器id以及私钥-非常重要-如果此私钥丢失会损失50-的质押币-请注意多个地方备份" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十一) 备份机器id以及私钥(非常重要，如果此私钥丢失会损失50%的质押币，请注意多个地方备份)"><!--[--><!--]--> (十一) 备份机器id以及私钥(非常重要，如果此私钥丢失会损失50%的质押币，请注意多个地方备份) <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十二-测试创建带有显卡直通的虚拟机-用来检测前面是否正确配置" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十二) 测试创建带有显卡直通的虚拟机,用来检测前面是否正确配置"><!--[--><!--]--> (十二) 测试创建带有显卡直通的虚拟机,用来检测前面是否正确配置 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十三-检测机器的各种硬件参数指标是否正常" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十三) 检测机器的各种硬件参数指标是否正常"><!--[--><!--]--> (十三) 检测机器的各种硬件参数指标是否正常 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十四-查看机器是否正确加入到算力网络" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十四) 查看机器是否正确加入到算力网络"><!--[--><!--]--> (十四) 查看机器是否正确加入到算力网络 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.html#十五-机器上链" class="router-link-active router-link-exact-active sidebar-item" aria-label="(十五) 机器上链"><!--[--><!--]--> (十五) 机器上链 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="sidebar-item" aria-label="升级DBC算力节点"><!--[--><!--]--> 升级DBC算力节点 <!--[--><!--]--></a><!----></li><li><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/install-update-dbc-client.html" class="sidebar-item" aria-label="安装和升级DBC客户端"><!--[--><!--]--> 安装和升级DBC客户端 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/" class="sidebar-item" aria-label="DBC客户端-HTTP请求"><!--[--><!--]--> DBC客户端-HTTP请求 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/install-tool.html" class="sidebar-item" aria-label="准备工作"><!--[--><!--]--> 准备工作 <!--[--><!--]--></a><!----></li><li><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-request-format.html" class="sidebar-item" aria-label="Http请求格式说明"><!--[--><!--]--> Http请求格式说明 <!--[--><!--]--></a><!----></li><li><a href="/DBC-Wiki/install-update-dbc-node/dbc-client-api/http-api.html" class="sidebar-item" aria-label="HTTP客户端请求API"><!--[--><!--]--> HTTP客户端请求API <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><p class="sidebar-item">创建windows虚拟机使用omniverse <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a href="/DBC-Wiki/install-update-dbc-node/create-win-machine-omniverse/create-win-machine-omniverse.html" class="sidebar-item" aria-label="创建windows虚拟机应用omniverse"><!--[--><!--]--> 创建windows虚拟机应用omniverse <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="安装dbc算力节点" tabindex="-1"><a class="header-anchor" href="#安装dbc算力节点" aria-hidden="true">#</a> 安装DBC算力节点</h1><h2 id="一-安装前准备-基于已配置好固定公网ip地址-部署kvm安装环境" tabindex="-1"><a class="header-anchor" href="#一-安装前准备-基于已配置好固定公网ip地址-部署kvm安装环境" aria-hidden="true">#</a> (一) 安装前准备(基于已配置好固定公网ip地址），部署KVM安装环境</h2><div class="custom-container tip"><p class="custom-container-title">注意！</p><p>系统采用ubuntu18.04 LTS或者20.04LTS,，并在开始前请卸载掉已经安装的显卡驱动，本操作不可带有显卡驱动</p></div><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;140.82.114.4 gitub.com&quot;</span>   <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;199.232.5.194 github.global.ssl.fastly.net&quot;</span>   <span class="token operator">&gt;&gt;</span> /etc/hosts
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;nameserver 8.8.4.4&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> /etc/resolv.conf <span class="token operator">&gt;</span> /dev/null
<span class="token function">sudo</span> <span class="token function">apt-get</span> update
<span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade -y
<span class="token function">sudo</span> <span class="token function">apt-get</span>  <span class="token function">install</span> qemu-kvm libvirt-clients libvirt-daemon-system bridge-utils virt-manager ovmf cpu-checker <span class="token function">vim</span> -y
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h2 id="二-创建和挂载xfs文件系统" tabindex="-1"><a class="header-anchor" href="#二-创建和挂载xfs文件系统" aria-hidden="true">#</a> (二) 创建和挂载XFS文件系统</h2><p><strong>1、查看硬盘分区情况</strong></p><p><code>lsblk</code></p><p><strong>2、创建数据盘文件夹并且格式化硬盘、挂载硬盘(数据盘挂载目录务必为/data)</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">mkdir</span> /data
<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> xfsprogs -y
<span class="token function">sudo</span> mkfs.xfs -n <span class="token assign-left variable">ftype</span><span class="token operator">=</span><span class="token number">1</span> -f /dev/sdb  （此处是否为sdb需要根据lsblk查看情况而定）
<span class="token function">sudo</span> <span class="token function">mount</span>  -o pquota /dev/sdb /data
<span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">777</span> /data
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> <span class="token string">&quot;/dev/sdb /data     xfs pquota 0 1&quot;</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
<span class="token function">sudo</span> <span class="token function">mount</span> -a
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="三-判断机器是否支持虚拟化" tabindex="-1"><a class="header-anchor" href="#三-判断机器是否支持虚拟化" aria-hidden="true">#</a> (三) 判断机器是否支持虚拟化</h2><p><strong>1、开启硬件支持</strong></p><blockquote><p>BIOS开启VT-d（如果是AMD平台，需要开启AMD-Vi 具体操作根据主板类型浏览器搜索即可） VT（VT-x）及VT-d支持，AMD叫AMD-Vi。需要将相关支持设置为enable，默认开启</p><p>一般情况下路径：Processor—IIO Configuration—Intel@ VT for Directed I/O(VT-d)</p></blockquote><p><strong>2、环境依赖，检查CPU是否支持虚拟化以及KVM是否可用</strong></p><p><code>egrep -c &#39;(svm|vm)&#39; /proc/cpuinfo</code></p><blockquote><p>CPU检测，如果显示为0，则不支持虚拟化</p></blockquote><p><code>kvm-ok</code></p><blockquote><p>检查kvm是否可用</p><p>显示INFO: /dev/kvm exists<br> KVM acceleration can be used 表示可以进行后续操作，如果显示与其不相符，请检查VT-d是否正确开启</p></blockquote><p><strong>如果您是20.04系统，操作以下内容即可，无需再去操作其他关于vfio-pci步骤，如果您是ubuntu18.04系统，请按照第四步开始操作</strong></p><ul><li>设置黑名单，使卡不被占用</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf  
<span class="token comment">#最后添加内容：</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>设置显卡直通</li></ul><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#查询显卡ID</span>
lspci -nnv <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
复制显卡id，例如10de:2231  10de:1aef，重复内容仅保留一次即可

<span class="token comment">#修改内核文件</span>
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub
<span class="token comment">#在GRUB_CMDLINE_LINUX_DEFAULT字段添加（如果是AMD平台，intel_iommu=on改为amd_iommu=on) </span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on kvm.ignore_msrs<span class="token operator">=</span><span class="token number">1</span> vfio-pci.ids<span class="token operator">=</span><span class="token operator">&lt;</span>显卡id，中间以逗号隔开<span class="token operator">&gt;</span>

<span class="token comment">#更新内核</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>

<span class="token comment">#重启机器</span>
<span class="token comment">#查询显卡占用情况</span>
lspci -vv -s <span class="token operator">&lt;</span>显卡PCI接口<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><blockquote><p>显示vfio-pci即为正常，非vfio-pci请返回查看grub文件是否写对或者<em><strong>按照第六步2步骤进行手动绑定</strong></em><em><strong>20.04LTS系统显卡隔离步骤到此结束，请前往步骤7继续操作</strong></em></p></blockquote><h2 id="四-启用系统分组" tabindex="-1"><a class="header-anchor" href="#四-启用系统分组" aria-hidden="true">#</a> (四) 启用系统分组</h2><p><strong>1、配置iommu分组</strong></p><p>（以下内容中请根据服务器平台进行iommu替换，intel使用intel_iommu,AMD使用amd_iommu）</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/grub

<span class="token comment">#在GRUB_CMDLINE_LINUX_DEFAULT字段添加 (quiet splash这两项如果有就不需要重复添加）</span>
quiet splash <span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt rd.driver.pre<span class="token operator">=</span>vfio-pci
<span class="token comment">#在GRUB_CMDLINE_LINUX字段添加 </span>
<span class="token assign-left variable">intel_iommu</span><span class="token operator">=</span>on <span class="token assign-left variable">iommu</span><span class="token operator">=</span>pt rd.driver.pre<span class="token operator">=</span>vfio-pci
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p><strong>2、配置模块文件</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span>  /etc/modules
<span class="token comment">#添加以下内容：</span>
pci_stub
vfio
vfio_iommu_type1
vfio_pci
kvm
kvm_intel

<span class="token comment">#更新grub.cfg文件</span>
<span class="token function">sudo</span> <span class="token function">update-grub</span>

<span class="token comment">#重启机器，检查iommu有没有正确启用（也可后续操作完一起重启检查）</span>
<span class="token function">dmesg</span> <span class="token operator">|</span> <span class="token function">grep</span> -i iommu
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><em><strong>显示类似于[ 3.887539] pci 0000:83:00.1: Adding to iommu group 46即表明成功启用</strong></em></p><h2 id="五-隔离gpu资源" tabindex="-1"><a class="header-anchor" href="#五-隔离gpu资源" aria-hidden="true">#</a> (五) 隔离GPU资源</h2><p><strong>1、设置黑名单，使卡不被占用</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/blacklist.conf  
<span class="token comment">#最后添加内容：</span>
blacklist snd_hda_intel
blacklist amd76x_edac
blacklist vga16fb
blacklist nouveau
blacklist rivafb
blacklist nvidiafb
blacklist rivatv
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p><strong>2、收集PCI设备信息</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>lspci -nnv <span class="token operator">|</span> <span class="token function">grep</span> NVIDIA
<span class="token comment">#显示类似于</span>
<span class="token number">17</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">17</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">17</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.0 VGA compatible controller <span class="token punctuation">[</span>0300<span class="token punctuation">]</span>: NVIDIA Corporation TU104 <span class="token punctuation">[</span>GeForce RTX <span class="token number">2080</span><span class="token punctuation">]</span> <span class="token punctuation">[</span>10de:1e82<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if 00 <span class="token punctuation">[</span>VGA controller<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.1 Audio device <span class="token punctuation">[</span>0403<span class="token punctuation">]</span>: NVIDIA Corporation TU104 HD Audio Controller <span class="token punctuation">[</span>10de:10f8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>
<span class="token number">65</span>:00.2 USB controller <span class="token punctuation">[</span>0c03<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB <span class="token number">3.1</span> Host Controller <span class="token punctuation">[</span>10de:1ad8<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span> <span class="token punctuation">(</span>prog-if <span class="token number">30</span> <span class="token punctuation">[</span>XHCI<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token number">65</span>:00.3 Serial bus controller <span class="token punctuation">[</span>0c80<span class="token punctuation">]</span>: NVIDIA Corporation TU104 USB Type-C UCSI Controller <span class="token punctuation">[</span>10de:1ad9<span class="token punctuation">]</span> <span class="token punctuation">(</span>rev a1<span class="token punctuation">)</span>

<span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span><span class="token operator">&gt;&gt;</span>
<span class="token comment">#记录所有的设备编码以及PCI的id(重复编码仅取一次）</span>
<span class="token comment">#例如：</span>
<span class="token comment">#设备编码：</span>
10de:1e82,10de:10f8,10de:1ad8,10de:1ad9    （重复仅记录一次即可）
<span class="token comment">#PCI接口id（每台机器PCI接口不一样，请注意记录）</span>
<span class="token number">17</span>:00.0
<span class="token number">17</span>:00.1
<span class="token number">17</span>:00.2
<span class="token number">17</span>:00.3
<span class="token number">65</span>:00.0
<span class="token number">65</span>:00.1
<span class="token number">65</span>:00.2
<span class="token number">65</span>:00.3
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p><strong>3、设置vfio并隔离用于直通的GPU</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">vim</span> /etc/modprobe.d/vfio.conf
<span class="token comment">#写入上面收集到的设备编码信息（若重复，只写一次即可）：</span>
options vfio-pci <span class="token assign-left variable">ids</span><span class="token operator">=</span>10de:1e82,10de:10f8,10de:1ad8,10de:1ad9

<span class="token function">sudo</span> <span class="token function">vim</span> /etc/modules-load.d/vfio-pci.conf
<span class="token comment">#写入以下内容</span>
vfio-pci kvmgt vfio-iommu-type1 vfio-mdev

<span class="token comment">#重启机器</span>
<span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>4、查看GPU状态(所有接口都要查询，防止出现未被vfio-pci占用)</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#请注意PCI接口内容替换！</span>
lspci -vv -s <span class="token operator">&lt;</span>PCI接口<span class="token operator">&gt;</span> <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#例如：</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.1 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.2 <span class="token operator">|</span> <span class="token function">grep</span> driver
lspci -vv -s <span class="token number">17</span>:00.3 <span class="token operator">|</span> <span class="token function">grep</span> driver

<span class="token comment">#没有输出说明没有驱动.</span>
<span class="token comment">#如果有显示Kernel driver in use: vfio-pci 说明隔离成功</span>
<span class="token comment">#如果是显示类似于Kernel driver in user: snd_hda_intel说明设备被其他驱动占用 </span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p><strong>如果有PCI未被vfio-pci占用，请继续往下执行，如果已经成功被vfio-pci占用，可跳过下一步</strong>。</p></blockquote><h2 id="六-如果驱动查询为kernel-driver-in-use-vfio-pci-无需操作以下内容-未成功绑定请继续执行" tabindex="-1"><a class="header-anchor" href="#六-如果驱动查询为kernel-driver-in-use-vfio-pci-无需操作以下内容-未成功绑定请继续执行" aria-hidden="true">#</a> (六) 如果驱动查询为Kernel driver in use: vfio-pci，无需操作以下内容，未成功绑定请继续执行</h2><p><strong>1、解绑设备</strong></p><blockquote><p>如果驱动查询显示非Kernel driver in user: vfio-pci，将设备解绑（每组id都要解绑，以下仅为示例，请根据自身查询pci接口修改）</p></blockquote><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#请注意内容的替换，下面的命令仅作演示(需解绑所有被占用的显卡pci接口)</span>
<span class="token function">sudo</span> -i
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:17:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\</span>:17<span class="token punctuation">\</span>:00.0/driver/unbind
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 0000:83:00.0 <span class="token operator">&gt;</span> /sys/bus/pci/devices/0000<span class="token punctuation">\</span>:83<span class="token punctuation">\</span>:00.0/driver/unbind


<span class="token function">sudo</span> modprobe vfio
<span class="token function">sudo</span> modprobe vfio-pci
<span class="token function">sudo</span> <span class="token function">reboot</span>

<span class="token comment">#重新启动主机并检查GPU是否在不同的IOMMU组中隔离，以及正在使用vfio驱动程序</span>
<span class="token comment">#执行命令检查GPU是否在不同的IOMMU组中隔离</span>
<span class="token function">find</span> /sys/kernel/iommu_groups/*/devices/*
<span class="token comment">#显示分组即为正常</span>

<span class="token comment">#重新查询PCI（注意替换），若仍未查询到vfio-pci或显示其他内容，请执行一下一步</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p><strong>2、手动绑定GPU</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token comment">#执行命令进行绑定(注意：echo后的内容为机器查询到的显卡id）已经被占用的PCI可不用再手动绑定</span>
<span class="token function">sudo</span> -i
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de 1e82 <span class="token operator">&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
<span class="token function">sudo</span> <span class="token builtin class-name">echo</span> 10de <span class="token number">2206</span> <span class="token operator">&gt;&gt;</span> /sys/bus/pci/drivers/vfio-pci/new_id
…………


<span class="token comment">#绑定完成后再次查询（每张卡的所有项都要查一下）</span>
lspci -vv -s <span class="token number">17</span>:00.0 <span class="token operator">|</span> <span class="token function">grep</span> driver
<span class="token comment">#如果出现 Kernel driver in use : vfio-pci 说明绑定成功。如果仍未成功，请返回检查</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="七-确认机器显卡被vfio-pci占用后-启动libvirtd服务并设置开机自启-这一步配置非常重要如果没有正确配置将无法正确接收请求-会直接影响机器在链状态-影响出租-造成损失" tabindex="-1"><a class="header-anchor" href="#七-确认机器显卡被vfio-pci占用后-启动libvirtd服务并设置开机自启-这一步配置非常重要如果没有正确配置将无法正确接收请求-会直接影响机器在链状态-影响出租-造成损失" aria-hidden="true">#</a> (七) 确认机器显卡被vfio-pci占用后，启动libvirtd服务并设置开机自启(这一步配置非常重要<em><strong>如果没有正确配置将无法正确接收请求，会直接影响机器在链状态，影响出租，造成损失</strong></em>）</h2><p><strong>1、开启virt tcp监听服务：</strong></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>修改配置文件：
<span class="token function">sudo</span> <span class="token function">vim</span> /etc/libvirt/libvirtd.conf

找到下边这2行，去掉开头的<span class="token comment">#号：</span>
<span class="token comment">#listen_tls = 0</span>
<span class="token comment">#listen_tcp = 1</span>

找到这一行，去掉开头<span class="token comment">#号，并且将sasl改为none：</span>
<span class="token comment">#auth_tcp = &quot;sasl&quot;	======&gt;	auth_tcp = &quot;none&quot;</span>

<span class="token function">sudo</span> <span class="token function">vim</span> /etc/default/libvirtd
<span class="token comment">#对应修改为如下配置（这个是小写L）</span>
<span class="token assign-left variable">libvirtd_opts</span><span class="token operator">=</span><span class="token string">&quot;-l&quot;</span>

对于ubuntu <span class="token number">20.04</span>，需要执行下边这一步：
systemctl mask libvirtd.socket libvirtd-ro.socket libvirtd-admin.socket libvirtd-tls.socket libvirtd-tcp.socket
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p><strong>2、启动libvirtd并设置开机自启&amp;检查服务状态</strong></p><ul><li>sudo systemctl restart libvirtd.service</li><li>sudo systemctl enable libvirtd.service</li><li>systemctl status libvirtd</li></ul><p><strong>3、测试libvirtd是否启动成功</strong></p><ul><li>virsh connect qemu+tcp://localhost:16509/system</li><li>如果没有输出错误，就说明启动成功了；</li></ul><h2 id="八-创建dbc用户" tabindex="-1"><a class="header-anchor" href="#八-创建dbc用户" aria-hidden="true">#</a> (八) 创建dbc用户</h2><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">wget</span> http://116.85.24.172:20444/static/add_dbc_user.sh
<span class="token function">sudo</span> <span class="token function">chmod</span> +x add_dbc_user.sh
<span class="token function">sudo</span> ./add_dbc_user.sh dbc
<span class="token comment">#dbc用户密码自行设定</span>
</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="九-安装dbc功能节点程序" tabindex="-1"><a class="header-anchor" href="#九-安装dbc功能节点程序" aria-hidden="true">#</a> (九) 安装DBC功能节点程序</h2><ul><li><strong>注意</strong>：需要切换到dbc用户安装</li></ul><ol><li>下载dbc功能节点的安装脚本： https://github.com/DeepBrainChain/DBC-AIComputingNet/releases/ 下载其中的install_mining.sh</li><li>给安装脚本添加可执行权限： 命令行下执行：<code>chmod +x ./install_mining.sh</code></li><li>运行安装脚本： 命令行下执行：<code>./install_mining.sh [安装目录]</code></li></ol><p>(安装过程中，需要用户输入2个本地监听端口号)</p><h2 id="十-下载镜像模板-请放置于-data目录下-dbc启动虚拟机会去-data目录搜寻" tabindex="-1"><a class="header-anchor" href="#十-下载镜像模板-请放置于-data目录下-dbc启动虚拟机会去-data目录搜寻" aria-hidden="true">#</a> (十) 下载镜像模板（请放置于/data目录下，dbc启动虚拟机会去/data目录搜寻）</h2><p>http://36.102.233.175:20027/index.html/ubuntu-img/ 下载：ubuntu.qcow2 和 ubuntu-2004.qcow2 这两个镜像</p><h2 id="十一-备份机器id以及私钥-非常重要-如果此私钥丢失会损失50-的质押币-请注意多个地方备份" tabindex="-1"><a class="header-anchor" href="#十一-备份机器id以及私钥-非常重要-如果此私钥丢失会损失50-的质押币-请注意多个地方备份" aria-hidden="true">#</a> (十一) 备份机器id以及私钥(非常重要，如果此私钥丢失会损失50%的质押币，请注意多个地方备份)</h2><blockquote><p>备份安装目录下的dat/node.dat文件，放到安全的位置，后面如果重装系统或者重装DBC需要用原来的id和私钥，否则质押币会被扣除</p></blockquote><h2 id="十二-测试创建带有显卡直通的虚拟机-用来检测前面是否正确配置" tabindex="-1"><a class="header-anchor" href="#十二-测试创建带有显卡直通的虚拟机-用来检测前面是否正确配置" aria-hidden="true">#</a> (十二) 测试创建带有显卡直通的虚拟机,用来检测前面是否正确配置</h2><ul><li>测试程序下载地址：https://github.com/DeepBrainChain/DBC-AIComputingNet/releases/download/0.3.7.9/check_env</li><li>二进制文件，添加执行权限直接执行即可: chmod 777 chec_env ; ./check_env</li><li>出现绿色<code>check vm domain_test successful</code>即为成功，若没有出现，请排查前面各项配置是否正确。</li></ul><h2 id="十三-检测机器的各种硬件参数指标是否正常" tabindex="-1"><a class="header-anchor" href="#十三-检测机器的各种硬件参数指标是否正常" aria-hidden="true">#</a> (十三) 检测机器的各种硬件参数指标是否正常</h2><ul><li><p>如果第十五步检测成功，会成功创建一个虚拟机，通过ssh登陆进入这个虚拟机内部，其中：vm_local_ip是虚拟机的内网ip地址，用户名是dbc，pwd后面的是登陆密码 <img width="542" alt="1629202906(1)" src="https://user-images.githubusercontent.com/32829693/129724788-d50728cd-913b-4e91-8d0b-e53a098da091.png"></p></li><li><p>然后cd到测试脚本目录，运行: 【pytest .】，</p><ul><li>cd /test/dbc_gpu_server_test/</li><li>sudo -i (切换到root用户)</li><li>pytest .</li></ul></li><li><p>测试共18项；</p><ul><li>10项单元测试，测试CPU，内存，硬盘，显卡，显存，cuda可用性等；</li><li>7项集成测试，测试实际各种使用情况是否正常（如pytorch计算 训练 推理）, 排除潜在硬件故障；</li><li>1项benchmark速度测试，测试数十种CNN网络的训练和推理，持续约十分钟；</li><li>无红色error则通过，有红色F / error会显示报错对应测试项，可根据信息排查;</li><li>4卡2080ti全测试过程约10分钟，若测试时间过长如超过半小时，则机器可能存在问题可以提前中止测试（不中止则需要等测试完成后才会报error）;</li><li>测试结果中short test summary info：如果全部是passed，表示测试通过，只要有一项是failed表示测试不通过，需要排查故障；</li><li>结束后生成result文件夹导出性能报告;</li></ul></li><li><p>回到宿主机关闭并删除测试的虚拟机：./check_env --localip x.x.x.x （x.x.x.x 为虚拟机的内网ip地址，这一步不操作，会导致dbc程序无法启动新的虚拟机，从而无法上链验证通过）</p></li><li><p>执行iptable命令，开放机器网络访问权限：（这一步不操作，会导致外部无法访问虚拟机）</p><ul><li>iptables -D LIBVIRT_FWI 2 -t filter</li><li>iptables -D LIBVIRT_FWO 2 -t filter</li></ul></li></ul><h2 id="十四-查看机器是否正确加入到算力网络" tabindex="-1"><a class="header-anchor" href="#十四-查看机器是否正确加入到算力网络" aria-hidden="true">#</a> (十四) 查看机器是否正确加入到算力网络</h2><ul><li>矿池搭建客户端节点 请参考 install_update_dbc_client_cn.md</li><li>1分钟后，通过客户端请求机器信息，如果能够查到机器信息，说明机器已加入到网络中 请求机器信息，请参考：dbc_client_http_api</li><li>关于客户端节点：建议每家矿池搭建2个及以上客户端节点，保证在官方提供节点或者其他矿池提供节点掉线情况下依旧可以保证网络正常，如果网络中客户端节点过少或者挂掉过多，会影响机器出租情况。客户端节点搭建可以在其他服务器启动一个容器来部署，并不会占用太多资源。</li><li><em><strong>客户端节点可以与算力节点部署在同一台机器，注意每个节点的conf/core.conf配置文件中的端口号不要重复</strong></em></li></ul><h2 id="十五-机器上链" tabindex="-1"><a class="header-anchor" href="#十五-机器上链" aria-hidden="true">#</a> (十五) 机器上链</h2><p>https://github.com/DeepBrainChain/DBC-DOC/blob/master/chain_ops/bonding_machine.md#%E6%9C%BA%E5%99%A8%E4%B8%8A%E7%BA%BF%E6%AD%A5%E9%AA%A4</p><!--]--></div><footer class="page-meta"><div class="meta-item edit-link"><a class="external-link meta-item-label" href="https://github.com/DeepBrainChain/DBC-Wiki/edit/main/docs/install-update-dbc-node/install-update-dbc/install-dbc-compute-node.md" rel="noopener noreferrer" target="_blank" aria-label="在 GitHub 上编辑此页"><!--[--><!--]--> 在 GitHub 上编辑此页 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><!--[--><span class="sr-only">open in new window</span><!--]--></span><!--[--><!--]--></a></div><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: bacuijg@163.com">cuijg</span><!----><!--]--><!--]--></span></div></footer><nav class="page-nav"><p class="inner"><!----><span class="next"><a href="/DBC-Wiki/install-update-dbc-node/install-update-dbc/update-dbc-compute-node.html" class="" aria-label="升级DBC算力节点"><!--[--><!--]--> 升级DBC算力节点 <!--[--><!--]--></a></span></p></nav><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/DBC-Wiki/assets/app.554cb4e4.js" defer></script>
  </body>
</html>
